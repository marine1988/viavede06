<section class="accession-wrapper has-options">
    <header class="accession-header">
        <h1 class="page-title">
            Comprar Programa
        </h1>
        <div class="page-lead">
            Siga os passos para finalizar o processo
        </div>
    </header>
    <div class="accession-panel">

        <div class="accession-main">
            <nav class="wizardSteps three-steps">
                <ul>

                    <li id="li-step-1" wizardstep="1" class="current">
                        <a href="#" rel="wizard-step-1" class="disabled" style="cursor: pointer">
                            1. Confirmar Programa
                        </a>
                    </li>

                    <li id="li-step-2" wizardstep="2" class="disabled">
                        <a href="#" rel="wizard-step-2" class="disabled">
                            2. Confirmar pagamento
                        </a>
                    </li>

                    <li id="li-step-3" wizardstep="3" class="disabled">
                        <a href="#" rel="wizard-step-3" class="disabled">
                            3. Resultado
                        </a>
                    </li>

                </ul>
            </nav>

            <!-- TAB 1 START -->
            <div class="wizardStep wizard-step-1" wizardstep="1">
                <!-- SHOP OFFER -->
                <article class="shop-offer checkout">
                    <!-- OFFER DETAIL HEADER START -->
                   
                    <article class="lists checkout-list">
                        <div class="container">
                            <figure>
                                <!--
                               image sizes
                               <640 429*229 <768 233*229 <1024 233*229 >1024 429*229-->
                                <img alt="" src="cms-images/programs-img.jpg">
                                <!--add class finished to stay red-->
                                <div class="tag-wrapper">
                                    <!-- Adicionar class gm-box-sold-out se necessario -->
                                    <div class="mark-wrapper">
                                        <mark>Últimos dias</mark>
                                    </div>
                                </div>
                                <ul class="categories">
                                    <!--<li class="cat ic-romance"></li>
                                    <li class="cat ic-gastronomy-wine"></li>
                                    <li class="cat ic-family"></li>
                                    <li class="cat ic-fairs-events"></li>
                                    <li class="cat ic-golf"></li>
                                    <li class="cat ic-sun-beach"></li>
                                    <li class="cat ic-surf"></li>-->
                                    <li class="cat ic-nature"></li>
                                    <li class="cat ic-history"></li>
                                    <li class="cat ic-welfare"></li>
                                </ul>
                                <div class="region">
                                    <span>Região | Localidade</span>
                                </div>
                                <div class="img-partner">
                                    <img src="cms-images/sponsor-etapa.png">
                                </div>
                            </figure>
                            <div class="txt-columm">
                                <h2>Noites Palacianas em Évora</h2>
                                <span class="ic-hotel">Mar de Ar Aqueduto : 2 noites para 2 pessoas</span>
                                <span class="ic-generic">30% desconto no aluguer de Kayaks</span>
                                <!--<span class="ic-food">Jantar no Restaurante Degust’Ar</span>-->
                                <!--<span class="ic-passe">Passe 3 dias</span>-->
                                <!--<span class="ic-parking">Estacionamento</span>-->
                                <div class="bottom">
                                    <div class="disc-cont">
                                        <span class="ic-toll">30% portagem</span>
                                        <span class="ic-galp">10% combustivel</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                </article>
                    <!-- OFFER DETAIL HEADER END -->
                    <div class="end-date">Data limite de utilização: <strong>29/06/2016</strong></div>
                    
                    <div class="checkout-container">
                        <div class="title">O seu programa</div>
                        
                        <div class="table checkout-table">
                            <div class="table-row header-th">
                                <div class="table-cell text-left">Descrição</div>
                                <div class="table-cell text-center">Preço unitário</div>
                                <div class="table-cell text-center">Quantidade</div>
                                <div class="table-cell text-center">Total</div>
                            </div>
                            
                            <!-- START OFFER BASE PROGRAM -->
                            <div class="table-row">
                                <div class="table-cell text-left">Noites Palacianas em Évora</div>
                                <div class="table-cell text-center">
                                    <div class="price">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                                <div class="table-cell text-center">
                                    <button type="button" class="amount-btn single"><span class="results">2</span><!--<em>Alterar</em>--></button>
                                   <div class="suggestion-options">
                                        <button type="button" class="btn-pagination prev" title="Anterior">-</button>
                                        <select>
                                            <option>1</option>
                                        </select>
                                        <button type="button" class="btn-pagination next" title="Seguinte">+</button>
                                    </div>
                                </div>
                                <div class="table-cell text-right">
                                    <div class="price dark">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                            </div>
                            <!-- END OFFER BASE PROGRAM -->
                            <!-- START OFFER OPTION 01 -->
                            <div class="table-row">
                                <div class="table-cell text-left">Noites Palacianas em Évora</div>
                                <div class="table-cell text-center">
                                    <div class="price">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                                <div class="table-cell text-center">
                                    <button type="button" class="amount-btn"><span class="results">2</span><em>Alterar</em></button>
                                    <div class="suggestion-options">
                                        <button type="button" class="btn-pagination prev" title="Anterior">-</button>
                                        <select>
                                            <option>1</option>
                                        </select>
                                        <button type="button" class="btn-pagination next" title="Seguinte">+</button>
                                    </div>
                                </div>
                                <div class="table-cell text-right">
                                    <div class="price dark">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                            </div>
                            <!-- END OFFER OPTION 01 -->
                            
                            <!-- START OFFER OPTION 02 -->
                            <div class="table-row">
                                <div class="table-cell text-left">Noites Palacianas em Évora</div>
                                <div class="table-cell text-center">
                                    <div class="price">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                                <div class="table-cell text-center">
                                    <button type="button" class="amount-btn"><span class="results">2</span><em>Alterar</em></button>
                                    <div class="suggestion-options">
                                        <button type="button" class="btn-pagination prev" title="Anterior">-</button>
                                        <select>
                                            <option>1</option>
                                        </select>
                                        <button type="button" class="btn-pagination next" title="Seguinte">+</button>
                                    </div>
                                </div>
                                <div class="table-cell text-right">
                                    <div class="price dark">
                                        <span class="bold-price">130,<sup>50€</sup></span>
                                        <span>+ 1600<sup>PTS</sup></span>
                                    </div>
                                </div>
                            </div>
                            <!-- END OFFER OPTION 02 -->
                        </div>
                       
                    </div>
                    <!-- Total Info -->
                    <div class="total-price">
                        <div class="new-price">
                            <div class="price-label">Total</div>
                            <span class="bold-price">274,<sup>50€</sup></span>
                            <span class="points"> + 1600 <sup>PTS</sup></span>
                        </div>
                    </div>
                    <!-- End Total Info -->

                    <div class="form-button clearFloats">
                        <button class="button button-border" type="button">
                            <span class="button-txt">&lt; Cancelar</span>
                        </button>
                        <button class="button btNext" type="submit">
                            <span class="button-txt">Seguinte</span>
                        </button>
                    </div>
                </article>
                <!-- END SHOP OFFER -->
            </div>
            <!-- TAB 1 END -->

            <!-- TAB 2 START -->
            <div class="wizardStep wizard-step-2" wizardstep="2">

                <div class="form form-theme-default">

                    <fieldset>
                        <legend class="clearFloats">
                            <span class="form-legend">Dados de Faturação</span>
                        </legend>
                        <div class="data-send">
                            <div class="data-send-wrapper">
                                <div class="data-send-body">
                                    <div id="block-billing-controls" class="data-send-controls">
                                        <div class="form-radiobox-wrapper">
                                            <label for="radio1">
                                                <span class="form-radiobox">
                                                    <input type="radio" id="radio1" name="radio1">
                                                    <span class="form-radiobox-style"></span>
                                                </span>
                                                <span class="form-label">
                                                    <strong>Dados da Conta</strong>
                                                </span>
                                            </label>
                                        </div>

                                        <div class="form-radiobox-wrapper">
                                            <label for="radio2">
                                                <span class="form-radiobox">
                                                    <input type="radio" id="radio2">
                                                    <span class="form-radiobox-style"></span>
                                                </span>
                                                <span class="form-label">
                                                    <strong>Outros Dados</strong>
                                                </span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="block-billing-panel data-send-panel">

                                        <div class="data-send-text cleanStyle">

                                            <div class="form-input-wrapper">
                                                <label for="name">
                                                    <span class="form-label">Nome completo:</span>
                                                    <span id="name" class="form-pre-filled">
                                                        GONÇALO JOAO COSTA BERNARDO
                                                    </span>
                                                </label>
                                            </div>


                                            <div class="form-input-wrapper">
                                                <label for="nif">
                                                    <span class="form-label">
                                                        NIF (Número de identificação fiscal)</span>
                                                    <span id="nif" class="form-pre-filled">
                                                        221121269
                                                    </span>
                                                </label>
                                            </div>


                                            <div class="form-input-wrapper">
                                                <label for="address">
                                                    <span class="form-label">
                                                        Morada de faturação:</span>
                                                    <span id="address" class="form-pre-filled">
                                                        RUA DOS DIAMANTES N 113 - 1 DTO
                                                    </span>
                                                </label>
                                            </div>


                                            <div class="form-input-wrapper">
                                                <label for="postalcode">
                                                    <span class="form-label">
                                                        Código postal:</span>
                                                    <span id="postalcode" class="form-pre-filled">
                                                        2785-817
                                                    </span>
                                                </label>
                                            </div>


                                            <div class="form-input-wrapper">
                                                <label for="city">
                                                    <span class="form-label">
                                                        Localidade:</span>
                                                    <span id="city" class="form-pre-filled">
                                                        Arneiro
                                                    </span>
                                                </label>
                                            </div>


                                            <div class="form-input-wrapper">
                                                <label for="country">
                                                    <span class="form-label">
                                                        País:</span>
                                                    <span id="country" class="form-pre-filled">
                                                        Portugal
                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="block-billing-panel data-send-panel">

                                        <div class="form-input-wrapper">
                                            <label for="input1">
                                                <span class="form-label">Nome completo:</span>
                                                <span class="form-input custom-tooltip">
                                                    <input id="input1" type="text" class="Validator">
                                                    <span class="tooltip-icon tooltipstered"></span>
                                                    <span class="tooltip-message">Campo obrigatório</span>
                                                </span>
                                            </label>
                                        </div>

                                        <div class="form-input-wrapper">
                                            <label for="txtNewNif">
                                                <span class="form-label">NIF (Número de identificação fiscal)</span>
                                                <span class="form-input custom-tooltip">
                                                    <input type="text" maxlength="15" id="txtNewNif" class="Validator">
                                                    <span class="tooltip-icon tooltipstered"></span>
                                                    <span class="tooltip-message">
                                                        Campo Inválido
                                                    </span>
                                                </span>
                                            </label>
                                        </div>

                                        <div class="form-input-wrapper">
                                            <label for="input2">
                                                <span class="form-label">Morada de faturação:</span>
                                                <span class="form-input custom-tooltip">
                                                    <input id="input2" type="text" maxlength="60" class="Validator">
                                                    <span class="tooltip-icon tooltipstered"></span>
                                                    <span class="tooltip-message">
                                                        Campo obrigatório
                                                    </span>
                                                </span>
                                            </label>
                                        </div>

                                        <div class="form-group">
                                            <div class="form-group-wrapper">
                                                <div class="form-input-wrapper">
                                                    <label for="input3">
                                                        <span class="form-label">Código postal:</span>
                                                        <span class="form-input custom-tooltip">
                                                            <input id="input3" type="text" maxlength="8" class="Validator">
                                                            <span class="tooltip-icon tooltipstered"></span>
                                                            <span class="tooltip-message">
                                                                Campo obrigatório
                                                            </span>
                                                        </span>
                                                    </label>
                                                </div>

                                                <div class="form-input-wrapper">
                                                    <label for="input4">
                                                        <span class="form-label">
                                                            Localidade:</span>
                                                        <span class="form-input custom-tooltip">
                                                            <input id="input4" type="text" class="Validator">
                                                            <span class="tooltip-icon tooltipstered"></span>
                                                            <span class="tooltip-message">
                                                                Campo obrigatório
                                                            </span>
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-select-wrapper">
                                            <label for="ddlCountries">
                                                <span class="form-label">País:</span>
                                                <span class="form-select custom-tooltip">
                                                    <div class="selectric-wrapper">
                                                        <div class="selectric-hide-select">
                                                            <select id="ddlCountries">
                                                                <option>Selecionar</option>
                                                            </select>
                                                        </div>


                                                        <div class="selectric">
                                                           <p class="label">Selecionar</p>
                                                           <b class="button">▾</b>
                                                        </div>
                                                        <div class="selectric-items">
                                                           <div class="selectric-scroll">
                                                               <ul>
                                                                   <li>Selecionar</li>
                                                               </ul>
                                                           </div>
                                                        </div>
                                                        <input class="selectric-input">
                                                    </div>
                                                    <span class="tooltip-icon tooltipstered"></span>
                                                    <span class="tooltip-message">
                                                        Campo obrigatório
                                                    </span>
                                                </span>
                                            </label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <div id="block-payment-1" class="block-payment">
                        <div class="block-payment-title">Escolha o método de pagamento</div>

                        <div id="block-payment-controls" class="block-payment-controls">
                            <div class="form-radiobox-wrapper">
                                <label for="cc">
                                    <span class="netcaixa-online"></span>
                                    <span class="form-radiobox">
                                        <input type="radio" id="cc">
                                        <span class="form-radiobox-style"></span>
                                    </span>
                                    <span class="form-label">
                                        <strong>Cartão de Crédito</strong>
                                    </span>
                                </label>
                            </div>
                            <div class="form-radiobox-wrapper">
                                <label for="mb">
                                    <span class="mb-multibanco"></span>
                                    <span class="form-radiobox">
                                        <input type="radio" id="mb">
                                        <span class="form-radiobox-style"></span>
                                    </span>
                                    <span class="form-label">
                                        <strong>Multibanco</strong>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div id="PanelTT" class="block-payment-panel">
                            <div class="cleanStyle">
                                <p>
                                    Ao confirmar, será encaminhado para um terminal de pagamento.<br>Uma vez finalizado, voltará a este site para a conclusão do processo.
                                </p>
                            </div>
                        </div>

                        <div id="PanelYY" class="block-payment-panel">
                            <div class="cleanStyle">
                                <p>
                                    Será gerada uma referência de pagamento.<br>O processo ficará concluído após o pagamento num terminal de Multibanco ou através do seu homebanking.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="block-payment-logos">
                        <img src="images/ic-netcaixa-online_2.png" alt="">
                        <a href="#1" target="_blank"><img src="images/ic-verified-visa.jpg" alt=""></a>
                        <a href="#1" target="_blank"><img src="images/ic-mastercard-securecode.jpg" alt=""></a>
                    </div>

                    <table class="article-block-table">
                    <caption>1. Confirmar Programa</caption>
                    <tbody>
                        <tr><td colspan="2"></td></tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th>Total</th>
                            <td>
                                <span class="price-container"></span> € +
                                <span class="points-container"></span> pts
                            </td>
                        </tr>
                    </tfoot>
                </table>

                    <div class="form-button clearFloats">
                        <button class="button btPrev button-border" id="BtnStep2Prev" type="submit">
                            <span class="button-txt">&lt; Voltar</span>
                        </button>
                        <a id="BtnStep2Next" class="button btNext" href="#1">
                            <span class="button-txt">Confirmar compra</span>
                        </a>
                    </div>
                </div>

            </div>
            <!-- TAB 2 END -->

            <!-- TAB 3 START -->
            <div class="wizardStep wizard-step-3" wizardstep="3"></div>
            <!-- TAB 3 END -->
        </div>

        <!-- SIDE BAR START -->
        <aside class="accession-aside">
            <!-- TAB 1 START -->
            <div class="wizardStep wizard-step-1">

                <article class="article-block">
                    <header class="info">
                        <h3>Em caso de dúvida, contacte-nos :</h3>
                    </header>
                    <h2>707 500 900</h2>
                </article>

                <article class="article-block">
                    <header class="question">
                        <h3>Perguntas Frequentes</h3>
                    </header>

                    <h4>Quando serão debitados os pontos?</h4>
                    <div class="article-block-text">
                        <p>Caso opte por cartão de crédito, os pontos serão debitados automaticamente após validação do pagamento.</p><p>Se optar por Multibanco e deixar passar o prazo de pagamento, a compra fica sem efeito e os pontos serão devolvidos ao seu saldo.</p>
                    </div>

                    <h4>Comprei um Programa. Como usufruo?</h4>
                    <div class="article-block-text">
                        <p>Após a compra, poderá consultar todas as instruções :</p>
                        <ul>
                            <li>No email de confirmação enviado</li>
                            <li>Em A minha Via Verde &gt; Pontos e Programas</li>
                        </ul>
                        <p>Deverá ter especial atenção:</p>
                        <ul>
                            <li>À reserva junto do parceiro, caso necessário</li>
                            <li>À marcação das datas de viagem e matrícula, para usufruir do desconto em portagem</li>
                        </ul>
                    </div>

                    <h4>Como são aplicados os descontos em combustível e portagem?</h4>
                    <div class="article-block-text">
                        <p>Para o desconto em combustível, basta apresentar o voucher num posto Galp aderente.</p><p>Para o desconto em portagem,é obrigatório definir as datas de viagem e matrícula com antecedência.</p> 
                    </div>
                </article>

            </div>
            <!-- TAB 1 END -->

            <!-- TAB 2 START -->
            <div class="wizardStep wizard-step-2">
                <table class="article-block-table">
                <caption>1. Confirmar Programa</caption>
                <tbody>
                    <tr>
                        <td colspan="2">Fim de Semana Numa Yurt</td>
                    </tr>
                    <tr class="offer-detail-container">
                        <td colspan="2">
                            <span class="quantity-container-34">1</span> x Noites adicionais c/PA (85€)    
                        </td>
                    </tr>  
                </tbody>
                <tfoot>
                    <tr>
                        <th>Total</th>
                        <td>
                            <span class="price-container">25,00</span> € +
                            <span class="points-container">10</span> pts
                        </td>
                    </tr>
                </tfoot>
            </table>
            </div>
             <!-- TAB 2 END -->

            <!-- TAB 3 START -->
            <div class="wizardStep wizard-step-3"></div>
            <!-- TAB 3 END -->
        </aside>
        <!-- SIDE BAR END -->
        
        <div class="loading"><span>A carregar...</span></div>
    </div>
</section>
    
<script type="text/javascript">

$(function () {
    InitCheckout();
    InitDropDown();
    InitHeaderSteps();
    InitToolTips();
    InitQuantitySelection();
    
    //checkout table functions 
    //show/hide options
    $('.amount-btn').click(function(){
        $(this).hide();
        $(this).next('.suggestion-options').show();
    });
    
});

function InitQuantitySelection() {
    $(".details-container select").change(function () {
        var offerPrice = parseFloat($("#hfOfferPrice").val().replace(",", ".")) || 0;
        var offerTax = parseFloat($("#hfOfferTax").val().replace(",", ".")) || 0;
        var totalPoints = parseInt($("#hfOfferPoints").val(), 10) || 0;

        var priceList = new Array();
        priceList.push({ Tax: offerTax, Quantity: 1, NetPrice: offerPrice });

        $(".details-container select").each(function () {
            var points = parseInt($("option:selected", this).attr("Points"), 10) || 0;
            var price = parseFloat($("option:selected", this).attr("Price").replace(",", ".")) || 0;
            var tax = parseFloat($("option:selected", this).attr("Tax").replace(",", ".")) || 0;
            var quantity = parseFloat($("option:selected", this).val());

            priceList.push({ Tax: tax, Quantity: quantity, NetPrice: price });

            totalPoints += points * quantity;
        });

        $.ajax({
            type: 'POST',
            url: priceApiUrl,
            data: { action: 'GETPRICE', itemList: JSON.stringify(priceList) },
            dataType: 'json',
            processData: true,
            cache: false,
            beforeSend: function (request, settings) {
            },
            success: function (data, textStatus, jqXHR) {
                $(".price-container").text(data.toFixed(2).toString().replace(".", ","));
            },
            error: function (request, status, error) {
            },
            complete: function () {
            }
        });

        $(".points-container").text(totalPoints);
        $(".quantity-container-" + $(this).attr("offerdetailid")).text($(this).val());

        var panel = $(".quantity-container-" + $(this).attr("offerdetailid")).closest(".offer-detail-container");
        var quantity = parseInt($(this).val(), 10) || 0;
        if (quantity > 0) {
            $(panel).show();
        } else {
            $(panel).hide();
        }
    });
}

function round(x, decimals) {
    var baseMultiplier = Math.pow(10, decimals);
    return Math.round(x * baseMultiplier) / baseMultiplier;
}

function InitToolTips() {
    initTooltipster($('#panelNewBillingData .custom-tooltip .tooltip-icon'), false);
}

function InitCheckout() {
    GotoStep("1");
    //BillingInfo
    SetRadioButton("billing");
    //Payment Methods
    SetRadioButton("payment");
}

function BlockLastStep() {
    var lastStep = $('.wizardSteps li').length;
    GotoStep(lastStep);
    $('.wizardSteps li:not(:last-child)').css("cursor", "default");
    $('.wizardSteps li').off('click');
    $(".wizardSteps a").click(function (e) {
        e.preventDefault();
    });
}

function StepBack(obj) {
    if (obj) {
        var wizardstep = parseInt($(obj).closest('.wizardStep').attr('wizardstep'), 10);
        GotoStep(wizardstep - 1);
    }
}

function StepForward(obj) {
    if (obj) {
        var wizardstep = parseInt($(obj).closest('.wizardStep').attr('wizardstep'), 10);
        GotoStep(wizardstep + 1);
    }
}

function GotoStep(step) {
    $(window).scrollTop(0, 0);

    var currentNavItem = $(".accession-panel .wizardSteps a[rel='wizard-step-" + step + "']");
    //Nav
    currentNavItem.parent().removeClass().addClass('current');
    currentNavItem.parent().prevAll('li').removeClass().addClass('completed');
    currentNavItem.parent().nextAll().removeClass().addClass('disabled');

    //Panels
    $('.accession-panel .wizardStep').hide();
    $('.accession-panel .wizard-step-' + step).show();
}

function CanProceed() {

    if ($('#block-billing-controls .form-radiobox-wrapper input[type="radio"]:checked').val() == 'panelNewBillingData') {
        EnableDisableValidators(true);
    }
    else {
        EnableDisableValidators(false);
    }

    PageValidate('Payment', 'tooltip-error', null);
    if (!Page_IsValid) {
        $(window).scrollTop(0, 0);
        return false;
    }

    ShowLoading();
    return true;
}

function SetRadioButton(radioButtonGroup) {

    //first we hide all then show only the checked one
    $('.block-' + radioButtonGroup + '-panel').hide()

    //Check for cheked input at load and go to the current div
    var firtPanelShow = $('#block-' + radioButtonGroup + '-controls .form-radiobox-wrapper input[type="radio"]:checked').val();
    $("#" + firtPanelShow).show();

    //Register events for change divs
    $('#block-' + radioButtonGroup + '-controls .form-radiobox-wrapper input[type="radio"]').change(function () {
        if (this.checked) {
            var panelShow = $(this).val();

            $('#' + panelShow).show();

            $('#' + panelShow).prevAll('.block-' + radioButtonGroup + '-panel').hide();
            $('#' + panelShow).nextAll('.block-' + radioButtonGroup + '-panel').hide();
        }
    });
}

function InitHeaderSteps() {
    $('.wizardSteps li:lt(2)').click(function (e) {
        e.preventDefault();
        var wizardstep = $(this).attr('wizardstep');
        if (wizardstep) {
            GotoStep(wizardstep);
        }
    });
}

function EnableDisableValidators(bool) {
    if ((typeof (Page_Validators) != "undefined") && (Page_Validators != null)) {
        var i;
        for (i = 0; i < Page_Validators.length; i++) {
            ValidatorEnable(Page_Validators[i], bool);
        }
    }
}

function ShowLoading() {
    startLoading($('.accession-panel'));
}

function StopLoading() {
    stopLoading($('.accession-panel'));
}

function ShowGenericModal(modalTitle, modalMsg) {
    openModal($(".form-generic-message"), 'standard-modal', null, false);

    $(".form-generic-message .status-message").addClass("error"); /* pode ser "error", "success", "" */

    $(".form-generic-message .status-message-title").text(modalTitle);

    $(".form-generic-message .status-message-description").text(modalMsg);
}

function InitDropDown() {
    /* Multi-select */
    $('#ddlCountries').selectric({
        disableOnMobile: false
    }).on('change', function () { });
}

function ValidateNif(sender, args) {
    args.IsValidNIF = true;
    //args.IsValid = IsValidNIF($("#txtNewNif").val());
}

function IsValidNIF(nif) {
    var c;
    var checkDigit = 0;
    if (nif != null && jQuery.isNumeric(nif) && nif.length == 9) {
        c = nif.charAt(0);
        if (c == '1' || c == '2' || c == '5' || c == '6' || c == '8' || c == '9') {
            checkDigit = c * 9;
            var i = 0;
            for (i = 2; i <= 8; i++) {
                checkDigit += nif.charAt(i - 1) * (10 - i);
            }
            checkDigit = 11 - (checkDigit % 11);
            if (checkDigit >= 10) {
                checkDigit = 0;
            }
            if (checkDigit == nif.charAt(8)) {
                return true;
            }
        }
    }
    return false;
}

</script>